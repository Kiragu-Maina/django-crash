{
    "phases": {
      
      "setup": {
        "cmds": [
          "apt install software-properties-common -y",
          "add-apt-repository ppa:deadsnakes/ppa -y",
          "apt update",
          "apt install python3.10 -y",
          "apt install python3.10-venv",
          "apt install python3-pip -y"
          
        ],
        "aptPkgs": [
          "postgresql",
          "gcc",
          "curl",
          "default-jdk",
          "lsof",
          "wget"
          
        ]
      },
      "install": {
        "cmds": [
           "chmod +x closure-compiler.sh",
          
            
          "python3 -m venv /opt/venv",
          ". /opt/venv/bin/activate",
          "apt-get install python3-pip -y",
          "pip3 install -r requirements.txt",
  
          "python3 manage.py makemigrations",
          "python3 manage.py migrate",
          "python3 manage.py collectstatic --noinput",
          "daphne -b 0.0.0.0 -p $PORT crashsite.asgi:application & python3 manage.py populate_users & celery -A crashsite beat & celery -A crashsite worker --loglevel=info"
          
  
                  
        ]
      }
    }
   
  }